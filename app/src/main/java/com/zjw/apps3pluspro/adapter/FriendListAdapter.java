package com.zjw.apps3pluspro.adapter;import android.annotation.SuppressLint;import android.content.Context;import android.text.TextUtils;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView;import com.lidroid.xutils.BitmapUtils;import com.zjw.apps3pluspro.R;import com.zjw.apps3pluspro.network.javabean.FriendListBean;import com.zjw.apps3pluspro.utils.JavaUtil;import java.util.ArrayList;import java.util.List;/** * 新的好友列表适配器 */public class FriendListAdapter extends BaseAdapter {    static class ViewHolder {        ImageView ci_friend_head;        TextView friend_list_name;    }    private List<FriendListBean.DataBean> mDataBean;    private LayoutInflater mInflator;    private Context mContext;    public interface Callback {        public void click(View v);    }    public FriendListAdapter(Context context) {        super();        this.mInflator = LayoutInflater.from(context);        mDataBean = new ArrayList<FriendListBean.DataBean>();        mContext = context;    }    public void addDevice(FriendListBean.DataBean device) {        if (!mDataBean.contains(device)) {            mDataBean.add(device);        }    }    public void setmDataBean(List<FriendListBean.DataBean> mDataBean) {        this.mDataBean = mDataBean;    }    public FriendListBean.DataBean getDevice(int position) {        return mDataBean.get(position);    }    public void clear() {        mDataBean.clear();    }    @Override    public int getCount() {        return mDataBean.size();    }    @Override    public Object getItem(int i) {        return mDataBean.get(i);    }    @Override    public long getItemId(int i) {        return i;    }    @SuppressLint("ResourceAsColor")    @Override    public View getView(final int position, View view, ViewGroup viewGroup) {        ViewHolder viewHolder;        // General ListView optimization code.        if (view == null) {            view = mInflator.inflate(R.layout.listitem_friend, null);            viewHolder = new ViewHolder();            viewHolder.ci_friend_head = (ImageView) view.findViewById(R.id.ci_friend_head);            viewHolder.friend_list_name = (TextView) view.findViewById(R.id.friend_list_name);            view.setTag(viewHolder);        } else {            viewHolder = (ViewHolder) view.getTag();        }        FriendListBean.DataBean my_data_bean = mDataBean.get(position);        if (my_data_bean != null) {            // 设置头像            if (!TextUtils.isEmpty(my_data_bean.getIconUrl())) {                new BitmapUtils(mContext).display(viewHolder.ci_friend_head, my_data_bean.getIconUrl());            }            if (!JavaUtil.checkIsNull(my_data_bean.getNickName())) {                viewHolder.friend_list_name.setText(my_data_bean.getNickName());                if (!JavaUtil.checkIsNull(my_data_bean.getNickNameRename())) {                    viewHolder.friend_list_name.setText(my_data_bean.getNickNameRename() + "(" + my_data_bean.getNickName() + ")");                } else {                    viewHolder.friend_list_name.setText(my_data_bean.getNickName());                }            } else {                viewHolder.friend_list_name.setText("");            }        }        return view;    }}