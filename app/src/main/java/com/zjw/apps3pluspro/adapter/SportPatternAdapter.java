package com.zjw.apps3pluspro.adapter;import android.annotation.SuppressLint;import android.content.Context;import android.graphics.drawable.Drawable;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.TextView;import com.zjw.apps3pluspro.R;import com.zjw.apps3pluspro.module.home.sport.SportModleUtils;import com.zjw.apps3pluspro.sql.entity.SportModleInfo;import com.zjw.apps3pluspro.utils.NewTimeUtils;import com.zjw.apps3pluspro.utils.log.MyLog;import java.text.SimpleDateFormat;import java.util.ArrayList;import java.util.Date;import java.util.List;/** * 运动模式历史，手环运动模式和APPGPS运动模式 */public class SportPatternAdapter extends BaseAdapter {    private final String TAG = SportPatternAdapter.class.getSimpleName();    static class ViewHolder {        ImageView list_new_sport_img_type;        LinearLayout list_new_sport_lin_step;        TextView list_new_sport_text_step;        LinearLayout list_new_sport_lin_kcal;        TextView list_new_sport_text_kcal;        ImageView list_new_sport_img_device;        LinearLayout list_new_sport_lin_duration;        TextView list_new_sport_text_duration;        LinearLayout list_new_sport_lin_speed;        TextView list_new_sport_text_speed;        TextView list_new_sport_text_date;    }    private List<SportModleInfo> mSportModleInfo;    private LayoutInflater mInflator;    private Context context;    public SportPatternAdapter(Context context) {        super();        this.mInflator = LayoutInflater.from(context);        this.context = context;        mSportModleInfo = new ArrayList<SportModleInfo>();    }    public void setDevice(List<SportModleInfo> mSportModleInfo) {        this.mSportModleInfo = mSportModleInfo;    }    public void addDevice(SportModleInfo device) {        if (!mSportModleInfo.contains(device)) {            mSportModleInfo.add(device);        }    }    public SportModleInfo getDevice(int position) {        return mSportModleInfo.get(position);    }    public void RemoveDevice(int position) {    }    public void RemoveAllDevice() {        mSportModleInfo.removeAll(mSportModleInfo);    }    public void clear() {        mSportModleInfo.clear();    }    @Override    public int getCount() {        return mSportModleInfo.size();    }    @Override    public Object getItem(int i) {        return mSportModleInfo.get(i);    }    @Override    public long getItemId(int i) {        return i;    }    @SuppressLint("ResourceAsColor")    @Override    public View getView(int i, View view, ViewGroup viewGroup) {        ViewHolder viewHolder;        // General ListView optimization code.        if (view == null) {            view = mInflator.inflate(R.layout.listitem_sport_pattern, null);            viewHolder = new ViewHolder();            viewHolder.list_new_sport_img_type = (ImageView) view.findViewById(R.id.list_new_sport_img_type);            viewHolder.list_new_sport_lin_step = (LinearLayout) view.findViewById(R.id.list_new_sport_lin_step);            viewHolder.list_new_sport_text_step = (TextView) view.findViewById(R.id.list_new_sport_text_step);            viewHolder.list_new_sport_lin_kcal = (LinearLayout) view.findViewById(R.id.list_new_sport_lin_kcal);            viewHolder.list_new_sport_text_kcal = (TextView) view.findViewById(R.id.list_new_sport_text_kcal);            viewHolder.list_new_sport_img_device = (ImageView) view.findViewById(R.id.list_new_sport_img_device);            viewHolder.list_new_sport_lin_duration = (LinearLayout) view.findViewById(R.id.list_new_sport_lin_duration);            viewHolder.list_new_sport_text_duration = (TextView) view.findViewById(R.id.list_new_sport_text_duration);            viewHolder.list_new_sport_lin_speed = (LinearLayout) view.findViewById(R.id.list_new_sport_lin_speed);            viewHolder.list_new_sport_text_speed = (TextView) view.findViewById(R.id.list_new_sport_text_speed);            viewHolder.list_new_sport_text_date = (TextView) view.findViewById(R.id.list_new_sport_text_date);            view.setTag(viewHolder);        } else {            viewHolder = (ViewHolder) view.getTag();        }        String sport_type = "100";        String ui_type = "100";        String step = "";        String kcal = "";        String duration = "";        String speed = "";        String date = "";        SportModleInfo SportModleInfo = mSportModleInfo.get(i);        if (SportModleInfo.getSport_type() != null && !SportModleInfo.getSport_type().equals("")) {            sport_type = SportModleInfo.getSport_type();        }        if (SportModleInfo.getUi_type() != null && !SportModleInfo.getUi_type().equals("")) {            ui_type = SportModleInfo.getUi_type();        }        if (SportModleInfo.getTotal_step() != null && !SportModleInfo.getTotal_step().equals("")) {            step = SportModleInfo.getTotal_step();            viewHolder.list_new_sport_text_step.setText(step);        }        if (SportModleInfo.getCalorie() != null && !SportModleInfo.getCalorie().equals("")) {            kcal = SportModleInfo.getCalorie();            viewHolder.list_new_sport_text_kcal.setText(kcal);        }        if (SportModleInfo.getSport_duration() != null && !SportModleInfo.getSport_duration().equals("")) {            duration = SportModleInfo.getSport_duration();            String sport_time_used = SportModleUtils.getcueDate(Integer.valueOf(duration) * 1000);            viewHolder.list_new_sport_text_duration.setText(sport_time_used);        }        if (SportModleInfo.getSpeed() != null && !SportModleInfo.getSpeed().equals("")) {            speed = SportModleInfo.getSpeed();            viewHolder.list_new_sport_text_speed.setText(speed);        }        if (SportModleInfo.getTime() != null && !SportModleInfo.getTime().equals("")) {            date = SportModleInfo.getTime();            viewHolder.list_new_sport_text_date.setText(NewTimeUtils.getChangeMyDate(date));        }      MyLog.i(TAG,"运动模式数据 列表 = sport_type = " + sport_type);        Drawable imageDrawable = SportModleUtils.getSportTypeImg(context, sport_type);        viewHolder.list_new_sport_img_type.setBackgroundDrawable(imageDrawable);        viewHolder.list_new_sport_img_device.setVisibility(View.GONE);        viewHolder.list_new_sport_lin_step.setVisibility(View.GONE);        viewHolder.list_new_sport_lin_kcal.setVisibility(View.GONE);        viewHolder.list_new_sport_lin_duration.setVisibility(View.GONE);        viewHolder.list_new_sport_lin_speed.setVisibility(View.GONE);        if (ui_type.equals("0")) {            viewHolder.list_new_sport_lin_step.setVisibility(View.VISIBLE);            viewHolder.list_new_sport_lin_duration.setVisibility(View.VISIBLE);            viewHolder.list_new_sport_img_device.setVisibility(View.VISIBLE);        } else if (ui_type.equals("1")) {            viewHolder.list_new_sport_lin_kcal.setVisibility(View.VISIBLE);            viewHolder.list_new_sport_lin_duration.setVisibility(View.VISIBLE);            viewHolder.list_new_sport_img_device.setVisibility(View.VISIBLE);        } else {//            viewHolder.list_new_sport_lin_step.setVisibility(View.VISIBLE);            viewHolder.list_new_sport_lin_kcal.setVisibility(View.VISIBLE);            viewHolder.list_new_sport_lin_speed.setVisibility(View.VISIBLE);            viewHolder.list_new_sport_lin_duration.setVisibility(View.VISIBLE);        }        return view;    }//    public static ArrayList<SportModleInfo> SportModleInfo( List<SportModleInfo> sportList) {////        ArrayList<SportModleInfo> result_list = new ArrayList<SportModleInfo>();////        if (latLngList != null && latLngList.size() > 0) {//            for (int i = 0; i < latLngList.size(); i++) {//                SportModleInfo mySportModleInfo = new SportModleInfo();//                GpsSportRecord mylatLngList = latLngList.get(i);//                mySportModleInfo.setNew_sport_uid(mylatLngList.getUid());//                mySportModleInfo.setNew_sport_date(mylatLngList.getTime());//                mySportModleInfo.setNew_sport_sport_duration(mylatLngList.getSport_time());//                mySportModleInfo.setNew_sport_step(String.valueOf(mylatLngList.getStep_value()));//                mySportModleInfo.setNew_sport_calories(mylatLngList.getCalories_value());//                mySportModleInfo.setNew_sport_distance(mylatLngList.getDistance());//                mySportModleInfo.setNew_sport_hr("");//                mySportModleInfo.setNew_sport_sport_type("100");//                mySportModleInfo.setNew_sport_ui_type("100");//                mySportModleInfo.setNew_sport_speed(mylatLngList.getWith_speed());//                mySportModleInfo.setNew_sport_point_data(mylatLngList.getPoint_data());////              MyLog.i(TAG,"运动模式数据 mylatLngList = " + mylatLngList.toString());//                result_list.add(mySportModleInfo);//            }//        }////        if (sportList != null && sportList.size() > 0) {//            for (int i = 0; i < sportList.size(); i++) {//                SportModleInfo mySportModleInfo = new SportModleInfo();//                DeviceSportRecord myDeviceSportRecord = sportList.get(i);//                mySportModleInfo.setNew_sport_uid(myDeviceSportRecord.getUid());//                mySportModleInfo.setNew_sport_date(myDeviceSportRecord.getDevice_date());//                mySportModleInfo.setNew_sport_sport_duration(getcueDate(Integer.valueOf(myDeviceSportRecord.getDevice_sport_duration()) * 1000));//                mySportModleInfo.setNew_sport_step(myDeviceSportRecord.getDevice_step());//                mySportModleInfo.setNew_sport_calories(myDeviceSportRecord.getDevice_calories());//                mySportModleInfo.setNew_sport_distance(myDeviceSportRecord.getDevice_distance());//                mySportModleInfo.setNew_sport_hr(myDeviceSportRecord.getDevice_hr());//                mySportModleInfo.setNew_sport_sport_type(myDeviceSportRecord.getDevice_sport_type());//                mySportModleInfo.setNew_sport_ui_type(myDeviceSportRecord.getDevice_ui_type());//                mySportModleInfo.setNew_sport_speed("");//                mySportModleInfo.setNew_sport_point_data("");////              MyLog.i(TAG,"运动模式数据 mySportModleInfo = " + mySportModleInfo.toString());//                result_list.add(mySportModleInfo);//            }//        }////        return result_list;////    }    /**     * 获取当前时间     */    public static String getcueDate(long time) {        SimpleDateFormat formatter = new SimpleDateFormat("mm:ss");        Date curDate = new Date(time);        String hh = String.valueOf((int) time / 60 / 60 / 1000);        if (hh.length() < 2) {            hh = "0" + hh;        }        String date = hh + ":" + formatter.format(curDate);        return date;    }}