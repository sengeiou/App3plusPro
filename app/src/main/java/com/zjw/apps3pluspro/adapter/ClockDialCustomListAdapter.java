package com.zjw.apps3pluspro.adapter;import android.annotation.SuppressLint;import android.content.Context;import android.graphics.Bitmap;import android.text.TextUtils;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView;import com.zjw.apps3pluspro.R;import com.zjw.apps3pluspro.application.BaseApplication;import com.zjw.apps3pluspro.module.device.clockdial.CustomClockDialUtils;import com.zjw.apps3pluspro.module.device.entity.ClockDialCustomModel;import com.zjw.apps3pluspro.sharedpreferences.BleDeviceTools;import com.zjw.apps3pluspro.utils.Constants;import java.util.ArrayList;import java.util.List;/** * 主题历史列表适配器 */public class ClockDialCustomListAdapter extends BaseAdapter {    static class ViewHolder {        ImageView list_my_theme_img;        ImageView list_my_text_img;        TextView list_my_theme_title;        ImageView ivCover;    }    private Context mContext;    private int UiType = 1;    private BleDeviceTools mBleDeviceTools = BaseApplication.getBleDeviceTools();    private List<ClockDialCustomModel> mClockDialCustomModelList;    private LayoutInflater mInflator;    public ClockDialCustomListAdapter(Context context, int ui_type) {        super();        this.mInflator = LayoutInflater.from(context);        mClockDialCustomModelList = new ArrayList<>();        mContext = context;        UiType = ui_type;    }    public ClockDialCustomModel getDevice(int position) {        return mClockDialCustomModelList.get(position);    }    public void RemoveDevice(int position) {    }    public void setDeviceList(List<ClockDialCustomModel> my_theme_list) {        mClockDialCustomModelList = my_theme_list;    }    public void setDeviceList(String[] bin_list, String[] bg_list, String[] text_list) {        if (bin_list != null                && bg_list != null                && text_list != null                && bin_list.length > 0                && bin_list.length == bg_list.length                && bin_list.length == text_list.length        ) {            for (int i = 0; i < bin_list.length; i++) {                mClockDialCustomModelList.add(new ClockDialCustomModel(bin_list[i], bg_list[i], text_list[i]));            }        }    }    public void RemoveAllDevice() {        mClockDialCustomModelList.removeAll(mClockDialCustomModelList);    }    public void clear() {        mClockDialCustomModelList.clear();    }    @Override    public int getCount() {        return mClockDialCustomModelList.size();    }    @Override    public Object getItem(int i) {        return mClockDialCustomModelList.get(i);    }    @Override    public long getItemId(int i) {        return i;    }    @SuppressLint("ResourceAsColor")    @Override    public View getView(final int position, View view, ViewGroup viewGroup) {        ViewHolder viewHolder;        if (view == null) {            if (UiType == 1) {                view = mInflator.inflate(R.layout.listitem_clock_dial_market_1, null);            } else {                view = mInflator.inflate(R.layout.listitem_clock_dial_market_2, null);            }            viewHolder = new ViewHolder();            viewHolder.list_my_theme_img = (ImageView) view.findViewById(R.id.list_my_theme_img);            viewHolder.list_my_text_img = (ImageView) view.findViewById(R.id.list_my_text_img);            viewHolder.ivCover = (ImageView) view.findViewById(R.id.ivCover);            viewHolder.list_my_theme_title = (TextView) view.findViewById(R.id.list_my_theme_title);            view.setTag(viewHolder);        } else {            viewHolder = (ViewHolder) view.getTag();        }        ClockDialCustomModel mClockDialCustomModel = mClockDialCustomModelList.get(position);        if (!TextUtils.isEmpty(mClockDialCustomModel.getBgName()) && !TextUtils.isEmpty(mClockDialCustomModel.getTextName())) {            Bitmap bgBitmap = CustomClockDialUtils.getAssetBitmap(mContext, Constants.ASSETS_CUSTOM_DIAL_DIR + mClockDialCustomModel.getBgName());            Bitmap textBitmap = CustomClockDialUtils.getAssetBitmap(mContext, Constants.ASSETS_CUSTOM_DIAL_DIR + mClockDialCustomModel.getTextName());            viewHolder.list_my_theme_img.setImageBitmap(bgBitmap);            viewHolder.list_my_text_img.setImageBitmap(textBitmap);        }        if (mBleDeviceTools.get_device_theme_shape() == 2) {            viewHolder.ivCover.setVisibility(View.VISIBLE);        } else {            viewHolder.ivCover.setVisibility(View.GONE);        }        return view;    }}